<!DOCTYPE html>
<html>

  <head>
    <title>Speed Type</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="icon" href="/favicon/favicon.ico" />
    <link rel="stylesheet" type="text/css" href="/styles/base.css">
    <link rel="stylesheet" type="text/css" href="/styles/game.css">
    <link rel="stylesheet" type="text/css" href="/styles/falling-emojis.css">
    <script src="/socket.io/socket.io.js"></script>
    <style>
      .hidden {
        display: none !important;
      }

      .hidden--animated {
        visibility: hidden !important;
        animation: shrink-pop 0.6s cubic-bezier(0.7, 0.2, 0.2, 1) forwards;
        /* Keep the element centered during animation */
        will-change: transform, opacity;
      }

      @keyframes shrink-pop {
        0% {
          opacity: 1;
          transform: translateX(-50%) scaleX(1) scaleY(1);
        }
        80% {
          opacity: 1;
          transform: translateX(-50%) scaleX(0.05) scaleY(1.05);
        }
        90% {
          opacity: 0.8;
          transform: translateX(-50%) scaleX(0.01) scaleY(1.2);
        }
        95% {
          opacity: 0.5;
          transform: translateX(-50%) scaleX(0.2) scaleY(0.8);
        }
        100% {
          opacity: 0;
          transform: translateX(-50%) scaleX(0) scaleY(0.6);
        }
      }

      .room-info {
        text-align: center;
        margin: 1rem 0;
        padding: 1rem;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 8px;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
      }

      .room-name {
        color: #fde80d;
        font-size: 1.8rem;
        margin: 0 0 0.5rem 0;
        text-shadow: 0 0 10px #fde80d;
      }

      .room-details {
        display: flex;
        justify-content: center;
        gap: 2rem;
        flex-wrap: wrap;
        font-size: 1rem;
        color: #fff;
      }

      .room-player-count,
      .room-creator {
        padding: 0.25rem 0.75rem;
        background: rgba(0, 0, 0, 0.3);
        border-radius: 4px;
        border: 1px solid rgba(255, 255, 255, 0.2);
      }
    </style>
  </head>

  <body>
    <div class="body-inner-mega-wrapper">
      <div class="falling-emojis">
        <span class="falling-emoji falling-emoji--1" style="display:none">⭐️</span>
        <span class="falling-emoji falling-emoji--2" style="display:none"></span>
        <span class="falling-emoji falling-emoji--3" style="display:none">⭐️</span>
        <span class="falling-emoji falling-emoji--4" style="display:none">⭐️</span>
        <span class="falling-emoji falling-emoji--5" style="display:none">⭐️</span>
        <span class="falling-emoji falling-emoji--6" style="display:none">⭐️</span>
        <span class="falling-emoji falling-emoji--7" style="display:none">⭐️</span>
        <span class="falling-emoji falling-emoji--8" style="display:none">⭐️</span>
      </div>

      <div class="everything-above-footer">
        <header>
          <div id="retro-logo-wrapper">
            <svg id=sun version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200">
              <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
                <feGaussianBlur id="glowfeGaussianBlur" stdDeviation="5.1" result="blur" />
                <feMerge>
                  <feMergeNode in="blur" />
                  <feMergeNode in="SourceGraphic" />
                </feMerge>
              </filter>
              </defs>
              <linearGradient id="outrun_grad" x1="0" x2="0" y1="0" y2="1">
                <stop offset="0%" stop-color="#fde80d" />
                <stop offset="18%" stop-color="#fcd119" />
                <stop offset="33%" stop-color="#f9a92f" />
                <stop offset="48%" stop-color="#f68145" />
                <stop offset="63%" stop-color="#f24069" />
                <stop offset="76%" stop-color="#ef1c7d" />
                <stop offset="91%" stop-color="#ed008c" />
                <stop offset="100%" stop-color="#ed008c" />
              </linearGradient>
              </defs>
              <clipPath id="outrun">
                <rect x="0" y="0" width="200" height="60" />
                <rect x="0" y="62.5" width="200" height="10" />
                <rect x="0" y="76" width="200" height="10" />
                <rect x="0" y="91" width="200" height="10" />
                <rect x="0" y="107" width="200" height="9.5" />
                <rect x="0" y="124" width="200" height="9" />
                <rect x="0" y="140" width="200" height="8.5" />
                <rect x="0" y="155" width="200" height="8" />
                <rect x="0" y="170" width="200" height="7.5" />
              </clipPath>

              <circle cx="100" cy="100" r="100" clip-path="url(#outrun)" fill=url(#outrun_grad) filter=url(#glow) />
            </svg>
            <h1 class="glow">SPEED TYPER</h1>
          </div>
        </header>

        <div id="room-info" class="room-info">
          <div class="room-info-content">
            <h2 id="room-name" class="room-name">Loading room...</h2>
            <div class="room-details">
              <span id="room-player-count" class="room-player-count">Players: --</span>
              <!-- <span id="room-creator" class="room-creator">Created by: --</span> -->
            </div>
          </div>
        </div>

        <div id="server-message" class="hidden--animated"></div>

        <section id="game-status">
          <div id="racing-table"></div>
        </section>

        <div id="lobby">
          <div id="new-game-button-container"></div>
        </div>

        <main id="main">
          <div id="sentence-area" class="hidden">
            <span id="sentence-in-progress"></span>
          </div>

          <form id="chat-form" class="hidden">
            <div id="input-display" tabindex="0"><span id="correct-input"></span><span id="incorrect-input"></span>
            </div>
            <input id="user-input" autocomplete="off" spellcheck="false" tabindex="-1">
          </form>
        </main>
      </div>
      <footer>
        Hagge ™
      </footer>
    </div>
    <script src="/scripts/speedtyping.js" type="module"></script>
    <script src="/scripts/firstNames.js" type="module"></script>
  </body>

</html>